<header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light main-header position-fixed shadow-sm w-100">
    <div class="container">
      <a class="navbar-brand" href="#"><img src="assets/img/logo.png" /></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto align-items-center">
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/']">Home</a>
          </li>
          <li class="nav-item dropdown">
            <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">By Category <b class="caret"></b></a>
            <ul class="dropdown-menu multi-level">
              <li class="dropdown-submenu" *ngFor="let cat of categoryList">
                <a  class="dropdown-toggle dropdown-item" data-toggle="dropdown">{{ cat.category_type  }}</a>
                <ul class="dropdown-menu">
                  <li>
                    <div *ngFor="let answers of cat.category">
                      <div *ngIf="answers.subCategory.length"> 
                        <h6>{{answers.item_text}}</h6>
                        <a *ngFor="let subanswers of answers.subCategory" class="dropdown-item" [routerLink]="['/dashboard/listing']" [queryParams]=" {id: subanswers._id, type:  cat.category_type }">
                          {{subanswers.item_text}}
                        </a>
                      </div>
                      <div *ngIf="answers.subCategory.length === 0">
                        <a class="dropdown-item" [routerLink]="['/dashboard/listing']" [queryParams]=" {id: answers._id, type:  cat.category_type }"
                          data-toggle="dropdown">
                          {{answers.item_text}}
                        </a>

                        <ul class="dropdown-menu" *ngIf="answers.subCategory.length">
                          <li>                           
                            <div *ngFor="let sub of answers.subCategory">
                              <hr>
                              <h6>{{sub.item_text}}</h6>
                              <a class="dropdown-item" [routerLink]="['/dashboard/listing']" [queryParams]=" {id: sub._id }">
                                {{sub.item_text}}
                              </a>
                            </div>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
            </ul>
          </li>



          <!-- 
          <li class="nav-item dropdown">
            <a
              class="nav-link dropdown-toggle"
              data-toggle="dropdown"
              href="#"
              role="button"
              aria-haspopup="true"
              aria-expanded="false"
              >By Category</a
            >
            <div class="dropdown-menu">
              <a class="dropdown-item">Fitness</a>
              <a class="dropdown-item">Sleep</a>
              <a class="dropdown-item">Yoga</a> 
            </div>
          </li> -->


          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
              aria-expanded="false">Solutions</a>
            <div class="dropdown-menu">
              <a class="dropdown-item" [routerLink]="['/client']"><i class="fa fa-user"></i> Client</a>
              <a class="dropdown-item" [routerLink]="['/professional']"><i class="fa fa-user-tie"></i>
                Professional</a>
              <a class="dropdown-item" [routerLink]="['/enterprise']"><i class="fa fa-building"></i> Enterprise</a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/subscriptionplan']">Pricing</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/affiliate']">Affiliate</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/blogs']">Blogs</a>
          </li>

          
          <li class="nav-item dropdown user-dropdown" *ngIf="token">
            <a
              class="nav-link dropdown-toggle"
              data-toggle="dropdown"
              href="#"
              role="button"
              aria-haspopup="true"
              aria-expanded="false">

              <!-- if no image -->
               <!-- <i class="fa fa-user-circle mr-2"></i> -->

               <!-- if image -->
               <img *ngIf="!user.profileImage" src="assets/img/default_user.jpg" class="user-img mr-2" />
               <img *ngIf="user.profileImage"
                 src="https://prompthealth.ca:3000/users/{{updateData.profileImage?updateData.profileImage:user.profileImage}}"
                 class="user-img mr-2" />
               <!-- <img src="https://prompthealth.ca:3000/users/1598659473722buYK-monea.jpg" class="user-img mr-2"> -->

                Welcome, {{user.firstName ? user.firstName: user.email }}
            </a>

            <div class="dropdown-menu">
              <a class="dropdown-item" [routerLink]="['/dashboard/profilemanagement/my-profile']">My Dashboard</a>
              <a class="dropdown-item" href="javascript:void(0)" (click)="logout()">Logout</a>
            </div>
          </li>

          <!-- <li *ngIf="token" class="nav-item">
            <a class="nav-link" [routerLink]="['/dashboard/profilemanagement/my-profile']">My Dashboard</a>
          </li>

          <li *ngIf="token" class="nav-item">
              <a class="nav-link" href="javascript:void(0)" (click)="logout()">Logout</a>
          </li> -->

          <li class="nav-item" *ngIf="!token">
            <a class="nav-link" href="" data-toggle="modal" data-target="#loginmodal">Login</a>

          </li>
          
          <li *ngIf="!token" class="nav-item">
            <a class="nav-link">OR</a>
          </li>
          <li *ngIf="!token" class="nav-item">
          <a class="nav-link btn btn-secondary mr-2 ml-2 pl-3 pr-3" href="" data-toggle="modal"
              data-target="#exampleModal">Join network</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>
<div class="spacer-top"></div>

<!-- Modal signup -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document" style="margin: auto !important;width:100%">
    <div class="modal-content mk-border">
      <div class="modal-header">
        <h5 class="modal-title w-100 text-center" id="exampleModalLabel" style="text-indent: 56px;">
          Join network
        </h5>
        <button #signup type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-center pb-4">
        <div class="text-center">
          <img src="assets/img/logo.png" class="mb-3" style="max-width: 220px;" />
        </div>
        <div class="text-secondary font-weight-bold mb-3">Are You A</div>
        <a class="btn btn-primary w-100 mr-2" (click)="professionalOption = !professionalOption"
          style="max-width: 175px;">PROFESSIONAL</a>
        or
        <a class="btn btn-secondary w-100 ml-2" [routerLink]="['/auth/registration', 'u']" data-dismiss="modal"
          style="max-width: 175px;" aria-label="Close">CLIENT</a>
      </div>
      <div class="mb-3 text-center" *ngIf="professionalOption">
        <div class="radio mb-3">
          <input type="radio" name="userType" (change)="handleChange('/auth/registration', 'sp')" />
          <span class="font-weight-bold">Service Provider</span>
        </div>
        <div class="radio">
          <input type="radio" name="userType" (change)="handleChange('/auth/registration', 'c')" />
          <span class="font-weight-bold">Center</span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal login -->
<div class="modal fade" id="loginmodal" tabindex="-1" role="dialog" aria-labelledby="loginmodal" aria-hidden="true">
  <div class="modal-dialog" role="document" style="margin: auto !important;width:100%">
    <div class="modal-content mk-border">
      <div class="modal-header">
        <h5 class="modal-title w-100 text-center" id="exampleModalLabel" style="text-indent: 56px;">
          Login
        </h5>
        <button #signin type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-center pb-4">
        <div class="text-center">
          <img src="assets/img/logo.png" class="mb-3" style="max-width: 220px;" />
        </div>
        <div class="text-secondary font-weight-bold mb-3">Are You A</div>
        <a class="btn btn-primary w-100 mr-2" (click)="professionalOption = !professionalOption"
          style="max-width: 175px;">PROFESSIONAL</a>
        or
        <a class="btn btn-secondary w-100 ml-2" [routerLink]="['/auth/login', 'u']" (click)="optUserType('U')" data-dismiss="modal"
          style="max-width: 175px;" aria-label="Close">CLIENT</a>
      </div>
      <div class="mb-3" *ngIf="professionalOption">
        <div class="radio">
          <input type="radio" name="userTypeLogin" (change)="handleChange('/auth/login', 'sp')" (click)="optUserType('SP')" />
          <span>Service Provider</span>
        </div>
        <div class="radio">
          <input type="radio" name="userTypeLogin" (change)="handleChange('/auth/login', 'c')" (click)="optUserType('C')" />
          <span>Center</span>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Modal pricing -->
<div class="modal fade" id="pricingmodal" tabindex="-1" role="dialog" aria-labelledby="loginmodal" aria-hidden="true">
  <div class="modal-dialog" role="document" style="margin: auto !important;width:100%">
    <div class="modal-content mk-border">
      <div class="modal-header">
        <h5 class="modal-title w-100 text-center" id="pricingModalLabel" style="text-indent: 56px;">
          Pricing
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-center pb-4">
        <div class="text-center">
          <img src="assets/img/logo.png" class="mb-3" style="max-width: 220px;" />
        </div>
        <div class="text-secondary font-weight-bold mb-3">Are You A</div>
        <a class="btn btn-primary w-100 mr-2" [routerLink]="['/subscriptionplan']" data-dismiss="modal"
          aria-label="Close" style="max-width: 175px;">PROFESSIONAL</a>
        or
        <a class="btn btn-secondary w-100 ml-2" [routerLink]="['/subscriptionplan']" data-dismiss="modal"
          style="max-width: 175px;" aria-label="Close">USER</a>
      </div>
    </div>
  </div>
</div>
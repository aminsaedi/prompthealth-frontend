<header class="bg-primary-light py-5p py-md-15p" [ngClass]="{hide: !isHeaderShown, shadow: isShadowShown}">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <a routerLink="/">
          <img class="d-md-none" src="assets/img/logo-sm.png" alt="PromptHealth" width="auto" height="20">
          <img class="d-none d-md-block" src="assets/img/logo.png" alt="PromptHealth" width="auto" height="25">
        </a>
      </div>
      <nav>
        <ul class="d-flex justify-content-between align-items-center list-unstyled mb-0 subtitle2 text-body">
          <li class="mx-15p d-none d-lg-block">
            <a routerLink="/practitioners" class="text-body">Find Practitioners</a>
          </li>
          <li class="mx-15p d-none d-lg-block">
            <a routerLink="/products" class="text-body">Products</a>
          </li>
          <!-- <li class="mx-10p">
            <a href="" class="text-body">About</a>
          </li> -->

          <li 
          *ngIf="!isLoggedIn" 
          class="mx-15p d-none d-lg-block"
          >
            <a routerLink="/auth/login" class="text-body">Login</a> 
            / 
            <a (click)="onClickRegister()" class="text-body">Register</a>
          </li>

          <li 
          *ngIf="isLoggedIn" 
          class="mx-10p mx-lg-15p cursor-pointer"
          >
            <profile-image 
            [image]="user?.profileImage"
            (click)="onClickUserIcon()"
            ></profile-image>
          </li>
          <li class="ml-10p ml-lg-15p">
            <a routerLink="/community/feed" class="btn btn-primary small">
              <i iconPh="users"></i>
              <span>Community</span>
            </a>
          </li>
          <li class="d-lg-none">
            <button class="btn btn-icon small pr-0 ml-10p" (click)="showMenuSm()">
              <i iconPh="menu" class="large"></i>
            </button>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

<!-- Menu for Small view-->
<div class="menu-sm bg-primary-light" *ngIf="isMenuSmShown">
  <div class="py-5p py-md-15p container">
    <div class="d-flex justify-content-end align-items-center">
      <div *ngIf="user" class="mx-10p">
        <profile-image 
        [image]="user?.profileImage"
        (click)="onClickUserIcon()"
        ></profile-image>
      </div>
      <a routerLink="/community" class="btn btn-primary small ml-10p">
        <i iconPh="users"></i>
        <span>Community</span>
      </a>
      <button class="btn btn-icon small close-menu-sm pr-0 ml-10p">
        <i class="large" iconPh="cross" (click)="hideMenuSm()"></i>
      </button>
    </div>

  </div>

  <div class="d-flex flex-nowrap overflow-hidden mt-60p" #menuSm>
    <div class="menu-inner">
      <div class="container">
        <list-item (onTap)="onClickMenuItemSm('/')">
          <div class="subtitle1 text-primary" >Home</div>  
        </list-item>

        <list-item (onTap)="onClickMenuItemSm('/practitioners')">
          <div class="subtitle1 text-primary">Find Practioners</div>  
        </list-item>

        <list-item (onTap)="onClickMenuItemSm('/products')">
          <div class="subtitle1 text-primary">Products/Services</div>  
        </list-item>

        <list-item *ngIf="priceType == 'practitioner'" (onTap)="onClickMenuItemSm('/plans')">
          <div class="subtitle1 text-primary">Pricing</div>  
        </list-item>

        <list-item *ngIf="priceType == 'product'" (onTap)="onClickMenuItemSm('/plans/product')">
          <div class="subtitle1 text-primary">Pricing</div>  
        </list-item>

        <list-item *ngIf="!isLoggedIn">
          <div>
            <a class="subtitle1" (click)="onClickMenuItemSm('/auth/login')">Login</a>
            <span> / </span>
            <a class="subtitle1" (click)="onClickRegister()">Register</a>
          </div>
        </list-item>
      </div>
    </div>
  </div> 
</div>


<!-- modal: user-type-menu -->
<modal
id="user-type-menu"
[bodyStyle]="{maxWidth: '600px', overflow: 'initial'}"
>
    <div class="content-container">
      <div class="image-container position-absolute bg-white rounded-circle">
        <img src="/assets/img/signup-modal.png" alt="sign up">
      </div>
      <h3 class="my-4 text-primary h3 h2-md">
        I AM 
        <span class="hidden-i5">...</span>
      </h3>

      <div class="mt-3 d-flex justify-content-between flex-column flex-md-row position-relative">
        <a class="btn btn-primary mx-md-4 flex-grow-1" 
        (click)="onClickUserTypeMenuItem('client', '/auth/registration/u')" 
        >Health Seeker</a>
        
        <a *ngIf="!onProductPage" 
        class="btn btn-outline mt-3 mt-md-0 mx-md-4 flex-grow-1" 
        (click)="onClickUserTypeMenuItem('practitioner', '/plans')"
        >Health Provider</a>
        
        <a *ngIf="onProductPage" 
        class="btn btn-outline mt-3 mt-md-0 mx-md-4 flex-grow-1" 
        (click)="onClickUserTypeMenuItem('product', '/plans/product')" 
        >Product Provider</a>
      </div>
    </div>

</modal>


<modal 
id="user-menu" 
#modalUserMenu
>
  <div class="title-container d-flex justify-content-between align-items-center">
    <span class="h5 h4-md mr-3 mb-0 flex-grow-1">Hello, {{userName}}</span>
    <button class="btn pr-0 btn-icon" (click)="modalUserMenu.hide()">
      <i iconPh="cross"></i>
    </button>  
  </div>

  <div class="content-container">
    <div>
      <a 
      class="btn btn-text-body px-0"
      (click)="onClickUserMenuItem(['/community/profile', userId])"
      >
        <i iconPh="user"></i>
        <span>See my profile</span>
      </a>
    </div>
    <div>
      <a
      class="btn btn-text-body px-0"
      (click)="onClickUserMenuItem(['/dashboard/profilemanagement', (userRole == 'P' ? 'partner-profile' : 'my-profile')])"
      >
        <i iconPh="edit-3"></i>
        <span>Edit my profile</span>
      </a>  
    </div>
    <div>
      <a
      class="btn btn-text-body px-0"
      (click)="onClickUserMenuItem(['/community/draft'])"
      >
        <i iconPh="note-text"></i>
        <span>See my drafts</span>
      </a>  
    </div>

    <div>
      <a
      class="btn btn-text-error px-0"
      (click)="onClickUserMenuItemLogout()"
      >
      <i iconPh="alert-circle"></i>
      <span>Logout</span>
    </a>  
    </div>

  </div>
</modal>
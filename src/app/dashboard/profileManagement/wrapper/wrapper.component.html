<section class="bg-cover detailbanner bg-overlay" style="background-image: url(assets/img/professional-banner.png);">
  <div class="container text-center text-light">
    <h2>Profile Management</h2>

    <button-tutorial
    *ngIf="profile?.roles != 'U'"
    type="dashboard"
    label="tutorial"
    title="How To Use Dashboard"
    buttonClass="btn-primary rounded-10p py-2 px-4"
    ></button-tutorial>
  </div>
</section>

<div class="container pb-4 position-relative">
  <div class="shadow bg-white">
    <div class="container-fluid">
      <!-- -- {{ userInfo }} -->
      <!-- -- {{ profile | json }}  -->
      <div class="row upgrade-header align-items-center" *ngIf="userInfo.roles !== 'U' && profile && !isPremium">
        <div class="col-sm-12 text-center ">
          <div style="color:#4a86ab" class="d-flex lead w-100">
            <span class="m-auto">
              <i class="fas fa-fire"></i> Upgrade to
              Premium
              to get all the
              exclusive features <span><i class="fas fa-long-arrow-alt-right"></i></span>
            </span>
            <a class="ml-auto btn btn-primary align-middle" [routerLink]="linkToSubscription">Upgrade to
              Premium</a>
          </div>
        </div>

        <hr>
      </div>
      <div class="row">
        <div class="col-md-3 px-0">
          <!-- Nav tabs -->
          <ul class="nav h-100 flex-column bg-light font-weight-normal" id="pills-tab" role="tablist">
            <li class="nav-item" *ngFor="let list of listing">
              <button class="nav-link d-flex flex-between" [disabled]=!list.active [routerLink]="list.link"
                [routerLinkActive]="['active']">
                <div class="flex-grow-1 d-flex align-items-center flex-wrap">
                  <span class="lead">
                    <b>{{ list.title }}</b>
                  </span>
                  <div *ngIf="list.title == 'Profile' && profile?.isVipAffiliateUser"
                    class="icon-vip font-small rounded ml-3">
                    <i class="fas fa-ribbon"></i>
                    <span class="pl-2">VIP</span>
                  </div>
                  <div *ngIf="list.description" style=" font-size: 12px;" class="w-100">
                    {{list.description}}
                  </div>
                </div>
                <div style="color:#4a86ab; font-size: 10px;" class="pull-right mr-2" *ngIf="!list.active"><i
                    class="fas fa-star-of-life"></i></div>
              </button>
            </li>
          </ul>
        </div>

        <div class="col-md-9">
          <!-- Tab panes -->
          <div class="tab-content py-3">
            <ng-container *ngIf="profile && profile.roles != 'P' && profile.roles != 'U'">
              <div class="bg-grey p-4 mb-3 font-italic font-big" *ngIf="!profile.isApproved">
                <p>
                  Your profile is being reviewed by our administrator and won't be shown in listing just yet.
                </p>
                <p>
                  Please read the guidelines and review your profile.
                </p>

                <button-guideline
                label="See Profile Guidelines"
                buttonClass="btn btn-primary"
                ></button-guideline>
                
              </div>
            </ng-container>
            <!-- <ng-container *ngIf="!profile?.isApproved && (profile?.roles != 'P' && profile?.roles != 'U')">
              <div class="bg-grey p-4 mb-3">

                <ng-container *ngIf="profile.roles == 'P'">
                  <div *ngIf="!profile.phListedLink">
                    <p class="font-italic font-big">
                      To get listed with us as a Products/Pertoner, please link Prompt Health to your website, social media, or other platform first. 
                    </p>
                    <button class="btn btn-ph-blue" (click)="isPhLinkFieldShown = true">I added the link</button>    
                  </div>

                  <div *ngIf="profile.phListedLink">
                    <p class="font-italic font-big">
                      Your profile is being reviewed by our administrator and won't be shown in listing just yet.<br><br>
                      If needed, you can edit the URL where you have linked Prompt Health.
                    </p>
                    <button class="btn btn-ph-blue" (click)="isPhLinkFieldShown = true">Edit</button>    
                  </div>
                </ng-container> 
                <form (ngSubmit)="onSubmitPhListedLink()" *ngIf="isPhLinkFieldShown" class="mt-3">
                  <form-item-input name="phListedLink" label="Link"
                    placeholder="Enter the URL to where you have linked Prompt Health" [controller]="formPhListedLink"
                    [submitted]="isFormPhListedLinkSubmitted"></form-item-input>
                  <div class="mt-3">
                    <input type="submit" class="btn btn-ph-blue" value="Submit">
                  </div>
                </form> 
              </div>


            </ng-container>-->

            <router-outlet></router-outlet>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
